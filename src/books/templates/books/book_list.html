{% extends 'base_out.html' %}

{% block title %}Books{% endblock title %}

{% block body %}
    <br>
    <h1>Книги</h1>
    <br>

   <!-- card-columns -->
   <div class="container">
    <div class="row align-items-start">
        
        {% for book in page_obj %}
        <div class="card" style="width: 18rem;">
          <img src="{{ book.picture.url }}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">{{ book.name }}</h5>
            <p class="card-text">
              <b>Автор:</b> {% for author in book.author.all %}
                 {{ author.name }}
                {% endfor %}
              <br>
              <b>Год издания:</b> {{ book.year }}<br>
              <b>Жанр:</b> {% for genre in book.genre.all %}
               {{ genre.name }}
               {% endfor %}<br>
              <b>Издательство:</b> {{ book.publusher }}<br>
              <b>Цена:</b> <h3>{{ book.unit_price }} BYN</h3>
          </p>
            <a href="{% url 'carts:cart-edit' %}?book_id={{ book.pk }}" class="btn btn-primary">В корзину</a>
            <a href="{% url 'books:book' book.pk %}" class="btn btn-outline-primary">Подробнее</a>
          </div>
        </div>
        {% endfor %}
      
      </div>
    </div>

    {% include "paginator.html" %}


    <br>
    {% if perms.books.add_book %}
    <a class="btn btn-success" href="{% url 'books:book-create' %}" role="button">Добавить книгу</a>
    {% endif %}
    
{% endblock body %}